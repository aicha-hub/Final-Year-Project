<div class="main-content">
    <div class="container-fluid">
      
        <div class="row">
          <div class="btn-group" role="group" aria-label="Basic mixed styles example" >   
            <button mat-raised-button color="#2B3E42" style="margin-left: 950px"(click)="Ajouter()"><span class="material-icons" style="margin-right: 5px;">add</span>Ajouter utilisateur</button>
          </div>
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header card-header-danger">
                        <h4 class="card-title">Compte Utilisateurs</h4>
                        <p class="card-category"></p>
                    </div>
                    <div class="card-body">
                      
  <div style="margin-top: 40px;margin-right: 10px;">
    <div class="row">
     
      <div class="col-md-4">
      <mat-form-field >
       
        <mat-label>Chercher</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. nom utilisateurs" #input>
      </mat-form-field>
    </div>
    <div class="col-md-1" style="width:60%;margin-top:15px;margin-right: -10px;">
      <span class="material-icons" >search</span>
      </div>
  </div> 
  
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>
  
      <!-- ID Column -->
      <ng-container matColumnDef="Nom utilisateur">
        <th   style="color: indigo;" mat-header-cell *matHeaderCellDef mat-sort-header> Nom utilisateur</th>
        <td mat-cell *matCellDef="let comptes">
          <div class="form-group mx-sm-3 mb-2">
            
            <input type="text" class="form-control form-control-sm"  [(ngModel)]="comptes.username"  id="username" placeholder="email">
          </div>  </td>    </ng-container>
  
       <!-- ID Column -->
       <ng-container matColumnDef="Email" >
        <th style="color: indigo;" mat-header-cell *matHeaderCellDef mat-sort-header > Email</th>
        <td mat-cell *matCellDef="let comptes">
          <div class="form-group mx-sm-3 mb-2">
           
            <input type="email" class="form-control form-control-sm"  [(ngModel)]="comptes.email"  id="email" placeholder="email">
          </div>
      </td>
      </ng-container>
  
      
      <!-- ID Column -->
      <ng-container matColumnDef="Role">
        <th style="color: indigo;" mat-header-cell *matHeaderCellDef mat-sort-header> Role </th>
        <td mat-cell *matCellDef="let comptes">
          <div *ngIf="comptes.roles[0].name=='ROLE_USER'"> Utilisateur</div> 
          <div *ngIf="comptes.roles[0].name=='CHEF_AGENCE'"> Chef d'agence </div> 
          <div *ngIf="comptes.roles[0].name=='CONSEILLER_CLIENTS'"> Conseiller clients </div> 
          <div *ngIf="comptes.roles[0].name=='ROLE_ADMIN'">Administrateur </div> 
          <div *ngIf="comptes.roles[0].name=='ROLE_RESPONSABLE'">Responsable Conformite </div> </td>
      </ng-container>

      <ng-container matColumnDef="updateAction">
        <th mat-header-cell *matHeaderCellDef> </th>
          <td mat-cell *matCellDef="let comptes" ><button mat-button (click)="update(comptes)"><span class="material-icons">edit</span></button>
    </ng-container>
  
      <ng-container matColumnDef="deleteAction">
        <th mat-header-cell *matHeaderCellDef> </th>
          <td mat-cell *matCellDef="let comptes" style="color: indigo;"><button mat-button (click)="delete(comptes.username)"><span class="material-icons">delete</span></button>
    </ng-container> 

   
  
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let comptes; columns: columnsToDisplay ;"></tr>
  
      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">Aucune donn√©e correspondant au recherche "{{input.value}}"</td>
      </tr>
    </table>
  
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </div>
  </div>
  </div>
  </div>               
  </div>
  </div>
  
  
  </div>
